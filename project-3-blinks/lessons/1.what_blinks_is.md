# What is Blinks?

## Q1: What is Blinks?

**Blinks** (also known as **Solana Actions**) is a technology that brings blockchain functionality to any website that can handle a hyperlink. It allows users to interact with Solana smart contracts directly from web pages, social media, or any platform that supports URLs.

## 核心概念 (Core Concepts)

### 类比理解 (Analogy)
想象传统的网页链接只能"跳转"到另一个页面，而 Blinks 就像是一个"智能链接"，不仅能跳转，还能：
- 显示交互式界面（投票按钮、交易信息等）
- 执行区块链操作（投票、转账、NFT 操作等）
- 在用户点击时创建并签名 Solana 交易

就像普通链接是"门牌号"，Blinks 是"智能门牌号"，不仅能找到地址，还能自动帮你完成一些操作。

### 技术原理 (Technical Principles)

1. **GET 请求** - 返回 Action 的元数据（metadata）
   - `icon`: 显示的图标
   - `title`: 标题
   - `description`: 描述
   - `label`: 按钮标签
   - `links.actions`: 可执行的操作列表

2. **POST 请求** - 处理实际的区块链交易
   - 接收用户账户信息
   - 构建 Solana 交易
   - 返回交易供用户签名

### 在本项目中的应用 (Application in This Project)

在这个投票项目中，Blinks 的工作流程：

1. **用户访问 Blink URL** (如: `https://dial.to/?action=solana-action:http://localhost:3000/api/vote`)
   - 显示投票界面：选择 "Crunchy" 或 "Smooth" 花生酱

2. **GET 请求** (`/api/vote`)
   - 返回投票选项的元数据
   - 显示两个投票按钮

3. **用户点击投票按钮**
   - 触发 POST 请求
   - 构建调用 Solana 投票程序的交易

4. **POST 请求** (`/api/vote?candidate=Crunchy`)
   - 创建 Solana 交易
   - 调用 `vote()` 函数
   - 返回交易供用户签名

5. **用户在钱包中签名**
   - 交易被发送到 Solana 网络
   - 投票被记录在链上

## 关键特性 (Key Features)

1. **无需安装** - 任何支持链接的平台都可以使用
2. **用户友好** - 通过熟悉的链接界面交互
3. **去中心化** - 直接与区块链交互，无需中间服务器
4. **可组合** - 可以在社交媒体、网站、文档中嵌入

## 实际应用场景 (Use Cases)

- **投票系统** - 如本项目中的花生酱投票
- **NFT 铸造** - 通过链接直接铸造 NFT
- **代币转账** - 通过链接发送代币
- **DAO 治理** - 通过链接参与治理投票
- **游戏内购买** - 在游戏中直接购买道具

## 相关资源 (Resources)

- [Blinks Documentation](https://solana.com/docs/advanced/actions)
- [Blinks Tester](https://dial.to)

## 代码示例 (Code Example)

```typescript
// GET 请求：返回 Action 元数据
export async function GET(request: Request) {
  const actionMetdata: ActionGetResponse = {
    icon: "https://...",
    title: "Vote for your favorite type of peanut butter!",
    description: "Vote between crunchy and smooth peanut butter.",
    label: "Vote",
    links: {
      actions: [
        { label: "Vote for Crunchy", href: "/api/vote?candidate=Crunchy" },
        { label: "Vote for Smooth", href: "/api/vote?candidate=Smooth" }
      ]
    }
  };
  return Response.json(actionMetdata, { headers: ACTIONS_CORS_HEADERS});
}

// POST 请求：处理交易
export async function POST(request: Request) {
  // 构建 Solana 交易
  const instruction = await program.methods.vote(candidate, pollId).instruction();
  const transaction = new Transaction().add(instruction);
  
  // 返回交易供用户签名
  return Response.json(createPostResponse({ fields: { transaction } }));
}
```

## 总结 (Summary)

**Blinks = 可执行的智能链接**

- 将区块链功能带到任何支持链接的平台
- 通过 GET/POST API 实现交互
- 用户通过熟悉的链接界面与区块链交互
- 无需安装额外软件，只需支持 URL 的平台即可使用